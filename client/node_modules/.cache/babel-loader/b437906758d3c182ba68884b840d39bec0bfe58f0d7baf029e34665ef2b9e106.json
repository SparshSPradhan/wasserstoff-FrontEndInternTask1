{"ast":null,"code":"import React from'react';import{useSocket}from'../context/SocketContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CursorOverlay=_ref=>{let{editorRef}=_ref;const{users,currentUser}=useSocket();// Filter out the current user and users without cursor positions\nconst remoteCursors=users.filter(user=>user.id!==(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&user.cursorPosition);if(!editorRef.current||remoteCursors.length===0)return null;// Calculate line height based on editor styles\nconst computedStyle=window.getComputedStyle(editorRef.current);const lineHeight=parseInt(computedStyle.lineHeight)||20;const fontSize=parseInt(computedStyle.fontSize)||16;return/*#__PURE__*/_jsx(\"div\",{className:\"cursor-overlay\",children:remoteCursors.map(user=>{if(!user.cursorPosition)return null;// Position cursor at the right location\nconst top=user.cursorPosition.line*lineHeight;const left=user.cursorPosition.ch*(fontSize*0.6);// Approximate character width\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"remote-cursor\",style:{top,left},children:[/*#__PURE__*/_jsx(\"div\",{className:\"cursor-caret\",style:{backgroundColor:user.color}}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-flag\",style:{backgroundColor:user.color},children:user.name})]},user.id);})});};export default CursorOverlay;","map":{"version":3,"names":["React","useSocket","jsx","_jsx","jsxs","_jsxs","CursorOverlay","_ref","editorRef","users","currentUser","remoteCursors","filter","user","id","cursorPosition","current","length","computedStyle","window","getComputedStyle","lineHeight","parseInt","fontSize","className","children","map","top","line","left","ch","style","backgroundColor","color","name"],"sources":["/Users/sparshs.pradhan/collaborative-editor/client/src/components/CursorOverlay.tsx"],"sourcesContent":["import React from 'react';\nimport { useSocket } from '../context/SocketContext';\nimport { User } from '../types';\n\ninterface CursorOverlayProps {\n  editorRef: React.RefObject<HTMLDivElement>;\n}\n\nconst CursorOverlay: React.FC<CursorOverlayProps> = ({ editorRef }) => {\n  const { users, currentUser } = useSocket();\n  \n  // Filter out the current user and users without cursor positions\n  const remoteCursors = users.filter(\n    (user) => user.id !== currentUser?.id && user.cursorPosition\n  );\n\n  if (!editorRef.current || remoteCursors.length === 0) return null;\n\n  // Calculate line height based on editor styles\n  const computedStyle = window.getComputedStyle(editorRef.current);\n  const lineHeight = parseInt(computedStyle.lineHeight) || 20;\n  const fontSize = parseInt(computedStyle.fontSize) || 16;\n  \n  return (\n    <div className=\"cursor-overlay\">\n      {remoteCursors.map((user: User) => {\n        if (!user.cursorPosition) return null;\n        \n        // Position cursor at the right location\n        const top = user.cursorPosition.line * lineHeight;\n        const left = user.cursorPosition.ch * (fontSize * 0.6); // Approximate character width\n        \n        return (\n          <div key={user.id} className=\"remote-cursor\" style={{ top, left }}>\n            <div className=\"cursor-caret\" style={{ backgroundColor: user.color }}></div>\n            <div className=\"cursor-flag\" style={{ backgroundColor: user.color }}>\n              {user.name}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default CursorOverlay;\n\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAOrD,KAAM,CAAAC,aAA2C,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CAChE,KAAM,CAAEE,KAAK,CAAEC,WAAY,CAAC,CAAGT,SAAS,CAAC,CAAC,CAE1C;AACA,KAAM,CAAAU,aAAa,CAAGF,KAAK,CAACG,MAAM,CAC/BC,IAAI,EAAKA,IAAI,CAACC,EAAE,IAAKJ,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEI,EAAE,GAAID,IAAI,CAACE,cAChD,CAAC,CAED,GAAI,CAACP,SAAS,CAACQ,OAAO,EAAIL,aAAa,CAACM,MAAM,GAAK,CAAC,CAAE,MAAO,KAAI,CAEjE;AACA,KAAM,CAAAC,aAAa,CAAGC,MAAM,CAACC,gBAAgB,CAACZ,SAAS,CAACQ,OAAO,CAAC,CAChE,KAAM,CAAAK,UAAU,CAAGC,QAAQ,CAACJ,aAAa,CAACG,UAAU,CAAC,EAAI,EAAE,CAC3D,KAAM,CAAAE,QAAQ,CAAGD,QAAQ,CAACJ,aAAa,CAACK,QAAQ,CAAC,EAAI,EAAE,CAEvD,mBACEpB,IAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5Bd,aAAa,CAACe,GAAG,CAAEb,IAAU,EAAK,CACjC,GAAI,CAACA,IAAI,CAACE,cAAc,CAAE,MAAO,KAAI,CAErC;AACA,KAAM,CAAAY,GAAG,CAAGd,IAAI,CAACE,cAAc,CAACa,IAAI,CAAGP,UAAU,CACjD,KAAM,CAAAQ,IAAI,CAAGhB,IAAI,CAACE,cAAc,CAACe,EAAE,EAAIP,QAAQ,CAAG,GAAG,CAAC,CAAE;AAExD,mBACElB,KAAA,QAAmBmB,SAAS,CAAC,eAAe,CAACO,KAAK,CAAE,CAAEJ,GAAG,CAAEE,IAAK,CAAE,CAAAJ,QAAA,eAChEtB,IAAA,QAAKqB,SAAS,CAAC,cAAc,CAACO,KAAK,CAAE,CAAEC,eAAe,CAAEnB,IAAI,CAACoB,KAAM,CAAE,CAAM,CAAC,cAC5E9B,IAAA,QAAKqB,SAAS,CAAC,aAAa,CAACO,KAAK,CAAE,CAAEC,eAAe,CAAEnB,IAAI,CAACoB,KAAM,CAAE,CAAAR,QAAA,CACjEZ,IAAI,CAACqB,IAAI,CACP,CAAC,GAJErB,IAAI,CAACC,EAKV,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}